<!DOCTYPE html>
<html lang="eng">
<title>Rock | Paper | Scissor Game</title>

<!--GAME RULES
Rock wins Scissor
Paper wins Rock
Scissor wins Paper
***********

GAME ALGORITHM
-Onclick of button (Rock, paper or scissor)
-Computer makes a random move
-Compare moves
-Display result as popup
-->

<body>

    <div style="margin: 40px"></style>
        <h4>Rock | Paper | Scissor Game</h4>
 
<button onclick="
   playGame('Rock');
">Rock</button>

<button onclick="
    playGame('Paper');
">Paper</button>

<button  onclick="
    playGame('Scissor');
">Scissor</button>

<p class="jsResults"></p>

<p class="jsScore"></p>

<button  onclick="
    score.wins = 0;
    score.losses = 0;
    score['ties'] = 0; //another way to call an object
    localStorage.removeItem('score');
">Reset score</button>



</div>
</body>
<script>    
// THIS CODE UPDATES SCORE      
/*
let score = {
        wins: 0,
        losses: 0,
        ties: 0
    };
*/
    let score = JSON.parse(localStorage.getItem('score')) || {
        wins: 0,
        losses: 0,
        ties: 0
    };

    

  // console.log(JSON.parse(localStorage.getItem('score')));
     
 /*HOW TO GENERATE RANDOM MOVE
in order of convert the randomNumber to a move (ComputerMove)  
0--rock---1/3---paper----2/3---scissor---1 */

// THIS FUNCTION GENERATES RANDOM MOVES   
function playGame(playerMove) {

        let computerMove = '';

// THIS CODE GENERATES COMPUTER RANDOM MOVES       
        const randomMove = Math.random();

                   if (randomMove >= 0 && randomMove < 1 / 3) {
        computerMove = 'Rock';
        } else if (randomMove >= 1 / 3 && randomMove < 2 / 3) {
        computerMove = 'Paper';
        } else if (randomMove >= 2 / 3 && randomMove < 1) {
        computerMove = 'Scissor';
        }
        console.log(computerMove);
        getResults(computerMove);
      

// THIS FUNCTION COMPARES MOVES
  function getResults() {

      let results = '';

               if (playerMove === computerMove){
            results = 'Tie!';
        } else if (playerMove === 'Rock' && computerMove === 'Paper'){
            results = 'You lose!';
        } else if (playerMove === 'Rock' && computerMove === 'Scissor'){
            results = 'You Win!';

        } else if (playerMove === 'Paper' && computerMove === 'Scissor'){
            results = 'You lose!';
        } else if (playerMove === 'Paper' && computerMove === 'Rock'){
            results = 'You Win!';
        
        } else if (playerMove === 'Scissor' && computerMove === 'Rock'){
            results = 'You lose!';
        } else if (playerMove === 'Scissor' && computerMove === 'Paper'){
            results = 'You Win!';
        }
            console.log(results);
            updateScore(results);
            
function updateScore() {
        if (results === 'You Win!') {
            score.wins ++;
        } else if (results === 'You lose!') {
            score.losses ++;
        } else if (results === 'Tie!') {
            score.ties ++
        }      
        let jsResults =  document.querySelector('.jsResults')
                            .innerHTML = `You picked ${playerMove}, Computer picks ${computerMove}, ${results}`;
        jsScore();        
        localStorage.setItem('score',JSON.stringify(score));
        
        console.log(jsResults);
 /*           
    alert(`You picked ${playerMove}, Computer picks ${computerMove}, ${results}
    Wins: ${score.wins}, Loses: ${score.losses}, Ties: ${score.ties}`)
*/
         return playGame; 
}}};

function jsScore() {
    document.querySelector('.jsScore')
        .innerHTML = `Wins: ${score.wins}, Loses: ${score.losses}, Ties: ${score.ties}`;
    
  };

 

</script> 
</html>


