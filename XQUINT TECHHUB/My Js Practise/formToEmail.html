<!DOCTYPE html>
<html lang="eng">

<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="author" content="Olanrewaju"/>
<meta name="description" content="Your One-Stop Solution To All Engineering Needs."/>
<meta keyword="maintenance, repair, appliances, hvac"/>

<title>Email to <form action=""></form></title> 

  <!--
<link rel="stylesheet" href="css/reset.css"> 
<link rel="x-icon" href="img/CallAFixLogo.png" type="img/x-icon"/>
  -->

</head>

<body>

    <form method="post" action="" id="myForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="data[name]"><br><br>
        <label for="email">Email:</label>
        <input type="email" id="email" name="data[email]"><br><br>
        <label for="message">Message:</label>
        <textarea id="message" name="data[message]"></textarea><br><br>
        <input type="submit" value="submit">
      </form>
      
      <script>
        // Submit form data to Google Script
        document.getElementById("myForm").addEventListener("submit", handleSubmit);
        
        function handleSubmit(event) {
          event.preventDefault();
          var formData = {
            "name": document.getElementById("name").value,
            "email": document.getElementById("email").value,
            "message": document.getElementById("message").value
          };
          
          // Google Script URL
          var scriptUrl = "https://script.google.com/macros/s/AKfycbwtt43puCshrXFTjxPHxb3kV8aGo6hnNI0GRlNK3SiXYz5jKvc8J2M8y69Ih7BtV943/exec";
          
          // Send data to Google Script
          fetch(scriptUrl, {
            method: "POST",
            body: JSON.stringify(formData),
            headers: {
              "Content-Type": "application/json"
            }
          })
          .then(response => response.json())
          .then(data => console.log(data))
          .catch(error => console.error(error));
        }

    </script> 
</body>
</html>

<!--
    /*
  Google Script ((link unavailable))

    function doGet(e) {
      var sheet = SpreadsheetApp.getActiveSpreadsheet().getActiveSheet();
      sheet.appendRow([e.parameter.name, e.parameter.email, e.parameter.message]);
      
      // Send email to Gmail account
      var recipient = "your_email@gmail.com";
      var subject = "New Form Submission";
      var body = "Name: " + e.parameter.name + "\nEmail: " + e.parameter.email + "\nMessage: " + e.parameter.message;
      MailApp.sendEmail(recipient, subject, body);
    }


    *Setup:*
    
    1. Create a Google Sheet.
    2. Create a Google Script project.
    3. Paste the Google Script code.
    4. Deploy the script as a web app.
    5. Get the script URL (YOUR_SCRIPT_ID).
    6. Replace YOUR_SCRIPT_ID in the form HTML.
    7. Set up trigger for `doGet` function.
*/


-->

